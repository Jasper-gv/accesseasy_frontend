import{_ as h,c as $,u as F,r as z,o as q,l as u,i as s,f as e,w as l,aj as w,x as n,p as o,U as D,v as c,g as A,e as r,H as i,F as f,B as g,a as M,h as v,j as m,a1 as b,q as j,$ as V,a7 as S,k as H,a8 as p,a9 as y,b0 as x,ak as C,al as K,a0 as J}from"./index-B12n8wa1.js";import{a as Y}from"./analyticsService-CyyNbVKz.js";const E={class:"place-dashboard"},G={class:"dashboard-header mb-6"},Q={class:"d-flex align-center justify-space-between flex-wrap"},U={class:"d-flex align-center mb-3 mb-md-0"},W={class:"text-h3 font-weight-bold mb-1"},X={class:"text-subtitle-1 text-grey-darken-1"},Z={class:"d-flex gap-2"},tt={class:"d-flex align-center justify-space-between"},et={class:"text-caption text-grey-darken-1 mb-1"},lt={class:"text-caption text-grey mt-1"},st={class:"d-flex align-center"},ot={key:1,class:"text-center pa-8"},at={class:"d-flex justify-space-between align-center w-100"},it={class:"d-flex align-center"},nt={class:"d-flex justify-space-between align-center w-100"},rt={class:"d-flex align-center"},dt={class:"d-flex justify-space-between align-center w-100"},ut={class:"d-flex align-center"},ct={class:"text-h5 font-weight-bold mb-4"},pt={class:"d-flex align-center mb-4"},ft={class:"text-h6 font-weight-bold"},mt={class:"text-caption text-grey mb-0"},gt={class:"d-flex justify-space-between"},vt={class:"text-caption text-grey"},bt={__name:"PlaceDashboard",setup(yt){const R=F(),T=$(()=>R.params.id||"place-123"),N=z("Downtown Gym"),I=z([{title:"Today's Visitors",value:45,subtitle:"+12% vs yesterday",icon:"mdi-account-group",color:"primary"},{title:"Cars Parked",value:30,subtitle:"67/100 occupied",icon:"mdi-car",color:"indigo"},{title:"Canteen Orders",value:12,subtitle:"₹5,600 revenue",icon:"mdi-food",color:"orange"},{title:"Revenue Today",value:"₹15.4K",subtitle:"All modules",icon:"mdi-currency-inr",color:"success"}]),_=z([]),L=[{title:"Add Visitor",icon:"mdi-account-plus",to:"/apps/visitor",color:"blue"},{title:"View Parking Status",icon:"mdi-car-parking",to:"/apps/parking",color:"indigo"},{title:"Canteen Orders",icon:"mdi-food",to:"/apps/canteen",color:"orange"},{title:"Sell Membership",icon:"mdi-card-account-details",to:"/apps/places/membership",color:"purple"},{title:"View Analytics",icon:"mdi-chart-line",to:"/apps/analytics",color:"success"},{title:"Configure Place",icon:"mdi-cog",to:"/apps/storefront",color:"grey"}],B=[{title:"Visitor Management",description:"Check-in, badges, approvals",icon:"mdi-account-group",color:"blue",to:"/apps/visitor",metrics:[{label:"Today",value:45},{label:"This Month",value:1240},{label:"VIP",value:18}]},{title:"Parking Management",description:"Slots, rates, occupancy",icon:"mdi-car-parking",color:"indigo",to:"/apps/parking",metrics:[{label:"Occupied",value:"67/100"},{label:"Premium",value:"15/20"},{label:"Revenue",value:"₹3.4K"}]},{title:"Canteen Management",description:"Orders, menu, wallet",icon:"mdi-food-fork-drink",color:"orange",to:"/apps/canteen",metrics:[{label:"Orders",value:24},{label:"Revenue",value:"₹5.6K"},{label:"Wallet",value:"58%"}]}],P=async()=>{try{_.value=await Y.getRecentActivity(T.value,10)}catch(k){console.error("Failed to load activity:",k)}},O=k=>{const t=new Date(k),d=Math.floor((new Date-t)/6e4);return d<1?"Just now":d<60?`${d}m ago`:d<1440?`${Math.floor(d/60)}h ago`:t.toLocaleDateString()};return q(()=>{P()}),(k,t)=>(r(),u("div",E,[s("div",G,[s("div",Q,[s("div",U,[e(w,{color:"primary-lighten-5",size:"64",class:"mr-4"},{default:l(()=>[e(i,{color:"primary",size:"36"},{default:l(()=>t[0]||(t[0]=[o("mdi-office-building")])),_:1})]),_:1}),s("div",null,[s("h1",W,n(N.value),1),s("p",X,[e(D,{size:"small",color:"success",variant:"flat",class:"mr-2"},{default:l(()=>[e(i,{start:"",size:"14"},{default:l(()=>t[1]||(t[1]=[o("mdi-check-circle")])),_:1}),t[2]||(t[2]=o(" Active "))]),_:1}),t[3]||(t[3]=o(" Central hub for all operations "))])])]),s("div",Z,[e(c,{variant:"outlined",color:"primary",to:"/apps/storefront","prepend-icon":"mdi-cog"},{default:l(()=>t[4]||(t[4]=[o(" Settings ")])),_:1}),e(c,{color:"primary",to:"/apps/analytics","prepend-icon":"mdi-chart-line"},{default:l(()=>t[5]||(t[5]=[o(" Analytics ")])),_:1})])])]),e(A,{class:"mb-6"},{default:l(()=>[(r(!0),u(f,null,g(I.value,a=>(r(),M(v,{cols:"12",sm:"6",md:"3",key:a.title},{default:l(()=>[e(m,{class:"stat-card",elevation:"2",hover:""},{default:l(()=>[e(b,null,{default:l(()=>[s("div",tt,[s("div",null,[s("div",et,n(a.title),1),s("div",{class:j(["text-h3 font-weight-bold",`text-${a.color}`])},n(a.value),3),s("div",lt,n(a.subtitle),1)]),e(w,{color:a.color+"-lighten-5",size:"56"},{default:l(()=>[e(i,{color:a.color,size:"28"},{default:l(()=>[o(n(a.icon),1)]),_:2},1032,["color"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(A,null,{default:l(()=>[e(v,{cols:"12",md:"8"},{default:l(()=>[e(m,{elevation:"3",class:"mb-4"},{default:l(()=>[e(V,{class:"pa-6 bg-grey-lighten-5 d-flex justify-space-between align-center"},{default:l(()=>[s("div",st,[e(i,{class:"mr-2",color:"primary"},{default:l(()=>t[6]||(t[6]=[o("mdi-timeline-clock")])),_:1}),t[7]||(t[7]=s("span",{class:"text-h6 font-weight-bold"},"Recent Activity",-1))]),e(c,{size:"small",variant:"text",color:"primary",onClick:P},{default:l(()=>[e(i,{start:""},{default:l(()=>t[8]||(t[8]=[o("mdi-refresh")])),_:1}),t[9]||(t[9]=o(" Refresh "))]),_:1})]),_:1}),_.value.length>0?(r(),M(S,{key:0},{default:l(()=>[(r(!0),u(f,null,g(_.value,(a,d)=>(r(),u(f,{key:a.id},[e(p,{class:"pa-4"},{prepend:l(()=>[e(w,{color:a.color+"-lighten-4",size:"48"},{default:l(()=>[e(i,{color:a.color,size:"24"},{default:l(()=>[o(n(a.icon),1)]),_:2},1032,["color"])]),_:2},1032,["color"])]),append:l(()=>[e(D,{size:"small",color:a.color,variant:"tonal"},{default:l(()=>[o(n(a.type.replace("_"," ")),1)]),_:2},1032,["color"])]),default:l(()=>[e(y,{class:"font-weight-medium mb-1"},{default:l(()=>[o(n(a.description),1)]),_:2},1024),e(x,{class:"text-caption"},{default:l(()=>[o(n(O(a.timestamp)),1)]),_:2},1024)]),_:2},1024),d<_.value.length-1?(r(),M(C,{key:0})):H("",!0)],64))),128))]),_:1})):(r(),u("div",ot,[e(i,{size:"64",color:"grey-lighten-3"},{default:l(()=>t[10]||(t[10]=[o("mdi-clock-outline")])),_:1}),t[11]||(t[11]=s("p",{class:"text-grey mt-4"},"No recent activity",-1))])),e(K,{class:"pa-4"},{default:l(()=>[e(J),e(c,{variant:"text",color:"primary",to:"/apps/analytics"},{default:l(()=>[t[13]||(t[13]=o(" View Full History ")),e(i,{end:""},{default:l(()=>t[12]||(t[12]=[o("mdi-arrow-right")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{cols:"12",md:"4"},{default:l(()=>[e(m,{elevation:"3",class:"mb-4"},{default:l(()=>[e(V,{class:"pa-6 bg-grey-lighten-5"},{default:l(()=>[e(i,{class:"mr-2",color:"primary"},{default:l(()=>t[14]||(t[14]=[o("mdi-flash")])),_:1}),t[15]||(t[15]=s("span",{class:"text-h6 font-weight-bold"},"Quick Actions",-1))]),_:1}),e(b,{class:"pa-4"},{default:l(()=>[(r(),u(f,null,g(L,a=>e(c,{key:a.title,block:"",size:"large",color:a.color,variant:"outlined",to:a.to,"prepend-icon":a.icon,class:"mb-2 text-none"},{default:l(()=>[o(n(a.title),1)]),_:2},1032,["color","to","prepend-icon"])),64))]),_:1})]),_:1}),e(m,{elevation:"3",class:"mb-4"},{default:l(()=>[e(V,{class:"pa-6 bg-grey-lighten-5"},{default:l(()=>[e(i,{class:"mr-2",color:"teal"},{default:l(()=>t[16]||(t[16]=[o("mdi-cog-box")])),_:1}),t[17]||(t[17]=s("span",{class:"text-h6 font-weight-bold"},"Config Status",-1))]),_:1}),e(b,{class:"pa-4"},{default:l(()=>[e(S,{density:"compact"},{default:l(()=>[e(p,null,{default:l(()=>[s("div",at,[s("div",it,[e(i,{size:"20",color:"blue",class:"mr-2"},{default:l(()=>t[18]||(t[18]=[o("mdi-account-cog")])),_:1}),t[19]||(t[19]=s("span",{class:"text-body-2"},"Visitor Access",-1))]),e(c,{size:"x-small",variant:"text",color:"blue",to:"/apps/storefront?tab=visitor-settings"},{default:l(()=>t[20]||(t[20]=[o("Configure")])),_:1})]),t[21]||(t[21]=s("div",{class:"text-caption text-grey ml-7"},"Pre-approval: Disabled",-1))]),_:1}),e(C,{class:"my-2"}),e(p,null,{default:l(()=>[s("div",nt,[s("div",rt,[e(i,{size:"20",color:"indigo",class:"mr-2"},{default:l(()=>t[22]||(t[22]=[o("mdi-car-cog")])),_:1}),t[23]||(t[23]=s("span",{class:"text-body-2"},"Parking Rules",-1))]),e(c,{size:"x-small",variant:"text",color:"indigo",to:"/apps/storefront?tab=parking-settings"},{default:l(()=>t[24]||(t[24]=[o("Configure")])),_:1})]),t[25]||(t[25]=s("div",{class:"text-caption text-grey ml-7"},"100 Slots (20 Premium)",-1))]),_:1}),e(C,{class:"my-2"}),e(p,null,{default:l(()=>[s("div",dt,[s("div",ut,[e(i,{size:"20",color:"red",class:"mr-2"},{default:l(()=>t[26]||(t[26]=[o("mdi-shield-check")])),_:1}),t[27]||(t[27]=s("span",{class:"text-body-2"},"Validators",-1))]),e(c,{size:"x-small",variant:"text",color:"red",to:"/apps/storefront?tab=validators"},{default:l(()=>t[28]||(t[28]=[o("View Links")])),_:1})]),t[29]||(t[29]=s("div",{class:"text-caption text-grey ml-7"},"Security & Canteen Active",-1))]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{elevation:"3"},{default:l(()=>[e(V,{class:"pa-6 bg-grey-lighten-5"},{default:l(()=>[e(i,{class:"mr-2",color:"info"},{default:l(()=>t[30]||(t[30]=[o("mdi-information")])),_:1}),t[31]||(t[31]=s("span",{class:"text-h6 font-weight-bold"},"Place Details",-1))]),_:1}),e(b,{class:"pa-4"},{default:l(()=>[e(S,{density:"compact"},{default:l(()=>[e(p,{"prepend-icon":"mdi-map-marker"},{default:l(()=>[e(y,null,{default:l(()=>t[32]||(t[32]=[o("Address")])),_:1}),e(x,null,{default:l(()=>t[33]||(t[33]=[o("123 Main St, New York, NY")])),_:1})]),_:1}),e(p,{"prepend-icon":"mdi-phone"},{default:l(()=>[e(y,null,{default:l(()=>t[34]||(t[34]=[o("Contact")])),_:1}),e(x,null,{default:l(()=>t[35]||(t[35]=[o("+1 (555) 123-4567")])),_:1})]),_:1}),e(p,{"prepend-icon":"mdi-account-tie"},{default:l(()=>[e(y,null,{default:l(()=>t[36]||(t[36]=[o("Manager")])),_:1}),e(x,null,{default:l(()=>t[37]||(t[37]=[o("John Doe")])),_:1})]),_:1}),e(p,{"prepend-icon":"mdi-clock-outline"},{default:l(()=>[e(y,null,{default:l(()=>t[38]||(t[38]=[o("Operating Hours")])),_:1}),e(x,null,{default:l(()=>t[39]||(t[39]=[o("6:00 AM - 10:00 PM")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(A,{class:"mt-4"},{default:l(()=>[e(v,{cols:"12"},{default:l(()=>[s("h2",ct,[e(i,{class:"mr-2",color:"primary"},{default:l(()=>t[40]||(t[40]=[o("mdi-view-module")])),_:1}),t[41]||(t[41]=o(" Modules "))])]),_:1}),(r(),u(f,null,g(B,a=>e(v,{cols:"12",md:"4",key:a.title},{default:l(()=>[e(m,{class:"module-card",elevation:"3",hover:"",to:a.to},{default:l(()=>[e(b,{class:"pa-6"},{default:l(()=>[s("div",pt,[e(w,{color:a.color+"-lighten-5",size:"56",class:"mr-3"},{default:l(()=>[e(i,{color:a.color,size:"32"},{default:l(()=>[o(n(a.icon),1)]),_:2},1032,["color"])]),_:2},1032,["color"]),s("div",null,[s("h3",ft,n(a.title),1),s("p",mt,n(a.description),1)])]),e(C,{class:"my-3"}),s("div",gt,[(r(!0),u(f,null,g(a.metrics,d=>(r(),u("div",{key:d.label,class:"text-center"},[s("div",{class:j(["text-h6 font-weight-bold",`text-${a.color}`])},n(d.value),3),s("div",vt,n(d.label),1)]))),128))])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024)),64))]),_:1})]))}},kt=h(bt,[["__scopeId","data-v-6f29d845"]]);export{kt as default};
