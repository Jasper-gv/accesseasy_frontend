import{r as o,c as S,u as k,o as A,b as B,a as V,w as s,V as N,e as y,f as t,j as P,$ as T,p,x as C,a1 as U,a2 as g,C as _,k as q,s as w,a3 as x,al as F,a0 as M,v as b}from"./index-B12n8wa1.js";import{p as m}from"./placesService-C-pGz1oz.js";const j={__name:"PlaceForm",setup(E){const d=k(),v=B(),c=o(null),n=o(!1),i=o(!1),l=o({name:"",type:"Branch",address:"",status:"Active"}),r=S(()=>!!d.params.id);A(async()=>{if(r.value)try{const u=await m.getById(d.params.id);u?l.value={...u}:v.push("/apps/places")}catch(u){console.error(u)}});const f=async()=>{const{valid:u}=await c.value.validate();if(u){i.value=!0;try{r.value?await m.update(d.params.id,l.value):await m.create(l.value),v.push("/apps/places")}catch(a){console.error(a)}finally{i.value=!1}}};return(u,a)=>(y(),V(N,{"max-width":"800"},{default:s(()=>[t(P,{class:"pa-4"},{default:s(()=>[t(T,null,{default:s(()=>[p(C(r.value?"Edit Place":"Add New Place"),1)]),_:1}),t(U,null,{default:s(()=>[t(g,{ref_key:"form",ref:c,modelValue:n.value,"onUpdate:modelValue":a[4]||(a[4]=e=>n.value=e),onSubmit:_(f,["prevent"])},{default:s(()=>[t(w,{modelValue:l.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.name=e),label:"Place Name",variant:"outlined",rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"]),t(x,{modelValue:l.value.type,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.type=e),label:"Type",items:["Gym","Office","Branch","Store","Warehouse"],variant:"outlined",rules:[e=>!!e||"Type is required"]},null,8,["modelValue","rules"]),t(w,{modelValue:l.value.address,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value.address=e),label:"Address",variant:"outlined",rules:[e=>!!e||"Address is required"]},null,8,["modelValue","rules"]),r.value?(y(),V(x,{key:0,modelValue:l.value.status,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.status=e),label:"Status",items:["Active","Inactive"],variant:"outlined"},null,8,["modelValue"])):q("",!0)]),_:1},8,["modelValue"])]),_:1}),t(F,null,{default:s(()=>[t(M),t(b,{variant:"text",to:"/apps/places"},{default:s(()=>a[5]||(a[5]=[p("Cancel")])),_:1}),t(b,{color:"primary",variant:"flat",loading:i.value,disabled:!n.value,onClick:f},{default:s(()=>[p(C(r.value?"Update":"Save")+" Place ",1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}))}};export{j as default};
