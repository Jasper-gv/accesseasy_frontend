const i="accesseasy_canteen_menu_db",s="accesseasy_canteen_orders_db",o=(e,t)=>{const a=localStorage.getItem(e);return a?JSON.parse(a):t},c=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},d=[{id:"1",name:"Veggie Burger",category:"Lunch",price:120,image:"https://via.placeholder.com/150",available:!0},{id:"2",name:"Chicken Wrap",category:"Lunch",price:180,image:"https://via.placeholder.com/150",available:!0},{id:"3",name:"Coffee",category:"Beverages",price:40,image:"https://via.placeholder.com/150",available:!0},{id:"4",name:"Sandwich",category:"Breakfast",price:80,image:"https://via.placeholder.com/150",available:!0}];localStorage.getItem(i)||c(i,d);const l={async getMenu(){return await new Promise(e=>setTimeout(e,300)),o(i,d)},async updateMenuItem(e){await new Promise(r=>setTimeout(r,500));const t=o(i,d),a=t.findIndex(r=>r.id===e.id);return a!==-1?t[a]={...t[a],...e}:t.push({...e,id:Date.now().toString()}),c(i,t),e},async toggleAvailability(e){await new Promise(r=>setTimeout(r,200));const t=o(i,d),a=t.find(r=>r.id===e);a&&(a.available=!a.available,c(i,t))},async getOrders(){return await new Promise(e=>setTimeout(e,400)),o(s,[])},async placeOrder(e){await new Promise(n=>setTimeout(n,800));const t=o(s,[]),a=e.reduce((n,u)=>n+u.price*u.quantity,0),r={id:Date.now().toString().slice(-6),items:e,total:a,status:"Pending",createdAt:new Date().toISOString()};return t.unshift(r),c(s,t),r},async updateOrderStatus(e,t){await new Promise(n=>setTimeout(n,400));const a=o(s,[]),r=a.find(n=>n.id===e);if(r)return r.status=t,c(s,a),r;throw new Error("Order not found")}};export{l as c};
