import{_ as A,r as g,o as P,c as _,u as M,a as d,w as a,aR as B,d as L,e as o,f as e,aV as N,i as b,ak as r,a7 as y,aX as p,p as l,a8 as s,aQ as T,aY as D,k as v,aZ as I,a_ as $,x as f,a0 as F,N as x,aG as O,l as E,F as R,B as G,v as V,aC as H,H as h,V as Q}from"./index-B12n8wa1.js";import{p as U}from"./placesService-C-pGz1oz.js";import{a as k,s as X}from"./appLayerState-B4PZ1p2s.js";const Y={__name:"AppLayerLayout",setup(Z){const c=g(!0),w=M(),m=g([]);P(async()=>{try{m.value=await U.getAll()}catch(n){console.error("Failed to load places for selector",n)}});const u=(n,t)=>{X(n,t)},C=_(()=>w.meta.title||"App Layer");return(n,t)=>{const S=L("router-view");return o(),d(B,null,{default:a(()=>[e(N,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=i=>c.value=i),permanent:"",class:"modern-sidebar",width:"240",elevation:"0"},{default:a(()=>[t[8]||(t[8]=b("div",{class:"sidebar-header pa-4"},[b("h3",{class:"text-h6 font-weight-bold text-primary"},"AccessEasy App")],-1)),e(r),e(y,{density:"compact",nav:"",class:"py-2"},{default:a(()=>[e(p,{class:"text-uppercase text-caption font-weight-bold"},{default:a(()=>t[3]||(t[3]=[l("Platform")])),_:1}),e(s,{to:"/apps/saas","prepend-icon":"mdi-credit-card-settings-outline",title:"Subscriptions",subtitle:"Plans & billing","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps","prepend-icon":"mdi-view-dashboard-outline",title:"Operations Overview",subtitle:"Main dashboard","active-class":"bg-primary-lighten-5 text-primary",exact:"",class:"mb-1"}),e(r,{class:"my-2"}),e(p,{class:"text-uppercase text-caption font-weight-bold"},{default:a(()=>t[4]||(t[4]=[l("Configuration")])),_:1}),e(s,{to:"/apps/places","prepend-icon":"mdi-domain",title:"Locations",subtitle:"Branches & sites","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/storefront","prepend-icon":"mdi-store-cog",title:"Storefront Config",subtitle:"Branding & features","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/access-levels","prepend-icon":"mdi-card-account-details-outline",title:"Memberships",subtitle:"Plans & permissions","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/analytics","prepend-icon":"mdi-chart-line",title:"Analytics",subtitle:"Detailed insights","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(r,{class:"my-2"}),e(p,{class:"text-uppercase text-caption font-weight-bold"},{default:a(()=>t[5]||(t[5]=[l("Operations")])),_:1}),e(s,{to:"/apps/places/membership","prepend-icon":"mdi-card-account-details-outline",title:"Membership Sales","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{title:"Visitor Management","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/parking","prepend-icon":"mdi-parking",title:"Parking Management","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/canteen","prepend-icon":"mdi-food",title:"Canteen Management","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(r,{class:"my-2"}),e(p,{class:"text-uppercase text-caption font-weight-bold"},{default:a(()=>t[6]||(t[6]=[l("Validators & Tools")])),_:1}),e(s,{to:"/apps/validator","prepend-icon":"mdi-shield-check",title:"Security Scanner","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/canteen/validator","prepend-icon":"mdi-food-fork-drink",title:"Canteen Scanner","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/parking","prepend-icon":"mdi-car-parking",title:"Parking Management","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/canteen","prepend-icon":"mdi-food-outline",title:"Canteen Management","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(r,{class:"my-2"}),e(p,{class:"text-uppercase text-caption font-weight-bold"},{default:a(()=>t[7]||(t[7]=[l("Validators")])),_:1}),e(s,{to:"/apps/validator","prepend-icon":"mdi-shield-check-outline",title:"Security Scanner","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"}),e(s,{to:"/apps/canteen/validator","prepend-icon":"mdi-playlist-check",title:"Canteen Validator","active-class":"bg-primary-lighten-5 text-primary",class:"mb-1"})]),_:1})]),_:1},8,["modelValue"]),e(T,{class:"bg-grey-lighten-4"},{default:a(()=>[e(D,{color:"white",elevation:"0",class:"border-b"},{default:a(()=>[n.$vuetify.display.mobile?(o(),d(I,{key:0,onClick:t[1]||(t[1]=i=>c.value=!c.value)})):v("",!0),e($,null,{default:a(()=>[l(f(C.value),1)]),_:1}),e(F),x(k)?(o(),d(O,{key:1},{activator:a(({props:i})=>[e(V,H({variant:"outlined",color:"primary"},i,{class:"mr-4","prepend-icon":"mdi-map-marker"}),{default:a(()=>[l(f(x(k).selectedPlaceName)+" ",1),e(h,{end:""},{default:a(()=>t[9]||(t[9]=[l("mdi-chevron-down")])),_:1})]),_:2},1040)]),default:a(()=>[e(y,null,{default:a(()=>[e(s,{onClick:t[2]||(t[2]=i=>u(null,"All Places")),title:"All Places",value:"all"}),e(r),(o(!0),E(R,null,G(m.value,i=>(o(),d(s,{key:i.id,title:i.name,onClick:j=>u(i.id,i.name)},null,8,["title","onClick"]))),128))]),_:1})]),_:1})):v("",!0),e(V,{icon:"",to:"/"},{default:a(()=>[e(h,null,{default:a(()=>t[10]||(t[10]=[l("mdi-home")])),_:1})]),_:1})]),_:1}),e(Q,{fluid:"",class:"pa-6"},{default:a(()=>[e(S)]),_:1})]),_:1})]),_:1})}}},K=A(Y,[["__scopeId","data-v-3413ddb0"]]);export{K as default};
